<%#
/**
 * @component PlantItemComponent
 * @description A responsive card component displaying a plant item in the grid view
 * 
 * Features:
 * - Interactive hover effects
 * - Responsive image with fallback
 * - Plant type badge
 * - Owner information with icon
 * - Truncated description
 * 
 * Required Data:
 * @param {Object} plant - Plant data object
 * @param {string} plant._id - Unique identifier
 * @param {string} plant.photo - Photo filename
 * @param {string} plant.plantName - Name of the plant
 * @param {string} plant.type - Plant type/category
 * @param {string} plant.nickname - Owner's nickname
 * @param {Date} plant.dateAdded - Creation date
 * @param {string} plant.description - Plant description
 */
%>

<div class="card shadow-lg bg-white hover:shadow-xl transition-all duration-300 cursor-pointer border border-gray-100 rounded-lg overflow-hidden"
    onclick="showDetailsPage('<%= plant._id %>')">
    <%# Plant image with hover effect and type badge %>
    <figure class="relative overflow-hidden">
        <img 
            src="/images/uploads/<%= plant.photo %>" 
            alt="<%= plant.plantName %>" 
            class="w-full h-48 object-cover hover:scale-105 transition-transform duration-300"
            onerror="this.onerror=null;this.src='/images/placeholder.jpg';" />
        <div class="absolute top-2 right-2">
            <div class="badge badge-primary capitalize font-semibold"><%= plant.type %></div>
        </div>
    </figure>
    
    <!-- Container for plant details -->
    <div class="card-body p-4">
    <h3 class="card-title text-lg font-bold text-gray-800 mb-2"><%= plant.plantName %></h3>

        <div class="space-y-2">
            <p class="text-sm text-gray-600 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
                <%= plant.nickname %>
            </p>
            <p class="text-sm text-gray-600 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
                <%= new Date(plant.dateAdded).toLocaleDateString() %>
            </p>
        </div>

        <p class="text-sm text-gray-700 mt-3 line-clamp-2 leading-relaxed">
            <%= plant.description %>
        </p>
    </div>
</div>