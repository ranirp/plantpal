<%#
/**
 * @component PlantDetailsComponent
 * @description Displays detailed information about a specific plant
 * 
 * Features:
 * - Full-size plant image with fallback
 * - Plant metadata display (name, type, owner, date)
 * - Description section
 * - Back navigation button
 * - Responsive layout
 * 
 * Required Data:
 * @param {Object} data - Plant data object
 * @param {string} data.photo - Photo filename
 * @param {string} data.plantName - Name of the plant
 * @param {string} data.nickname - Owner's nickname
 * @param {string} data.type - Plant type (succulent, fern, etc.)
 * @param {Date} data.createdAt - Creation timestamp
 * @param {string} data.description - Plant description
 * 
 * Styling:
 * - Glass card effect
 * - Shadow effects
 * - Responsive image sizing
 * - Consistent spacing
 */
%>

<div class="card w-full glass h-full">
    <%# Stats container with back button %>
    <div class="stats shadow h-full relative">
        <%# Back navigation button %>
        <div
            class="absolute top-2 left-2 btn btn-circle btn-neutral"
            onclick="window.history.back();"
        >
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 text-white" viewBox="0 0 320 512">
            <path class="fill-white" d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/>
        </svg>
    </div>

    <%# Plant image container with size constraints %>
    <figure class="max-h-96 overflow-hidden">
        <%# Responsive plant image with fallback to placeholder %>
        <img 
            src="/images/uploads/<%= data.photo %>" 
            alt="<%= data.plantName %>" 
            class="p-4 object-cover w-full max-h-96"
            onerror="this.onerror=null;this.src='/images/placeholder.jpg';" 
        />
    </figure>
    </div>

    <%# Plant details content section %>
    <div class="card-body p-5 m-0 h-full">
        <%# Plant name header %>
        <h2 class="card-title text-2xl"><%= data.plantName %></h2>

        <%# Owner information %>
        <div class="card overscroll-none">
            <div class="overscroll-none flex flex-row flex-nowrap">
                <div class="mr-2 font-bold">Created by:</div>
                <%= data.nickname %>
            </div>
        </div>

        <%# Plant type display %>
        <div class="card overscroll-none">
            <div class="overscroll-none flex flex-row flex-nowrap">
                <div class="mr-2 font-bold">Type:</div>
                <div class="badge badge-primary capitalize"><%= data.type %></div>
            </div>
        </div>

        <%# Creation timestamp with formatted date %>
        <div class="card overscroll-none">
            <div class="overscroll-none flex flex-row flex-nowrap">
                <div class="mr-2 font-bold">Added:</div>
                <%= new Date(data.createdAt).toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                }) %>
            </div>
        </div>

        <%# Visual divider %>
        <div class="divider"></div>

        <%# Plant description section %>
        <div class="card overscroll-none">
            <div class="font-bold mb-2">Description:</div>
            <div class="bg-base-100 p-3 rounded-lg">
                <%= data.description %>
            </div>
        </div>
    </div>
</div>